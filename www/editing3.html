<!DOCTYPE html>
<html>

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" / >
    <title>Blackout Poetry - Edit</title>
    
    <link href="css/reset.css" rel="stylesheet" type="text/css" />
    <link href="css/styles.css" rel="stylesheet" type="text/css" />
    <!--link rel="stylesheet" href="css/tinyeditor.css"-->
    <!--script src="js/tiny.editor.packed.js"></script-->
    
    <!--script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
    <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script-->
    
    <script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="js/jquery.mobile.custom.min.js"></script>
    
	<script src="js/html2canvas.js" type="text/javascript"></script>
  

</head>

<body>

    <header>
    	<h1>Paste &amp; Customize Text</h1>
        
    </header>
    
    <section>
    	<div id="toolbar">
        	<input id="next" type="submit" value="submit" form="myForm" />
            
            
            <!--button id="next" type="button">Continue</button-->
            
            <ul>
                <li class="text-size"><a id="smaller"><img src="images/toolbar_12px.png"></a></li>
                <li class="text-size"><a id="small"><img src="images/toolbar_14px.png"></a></li>
                <li class="text-size"><a id="medium"><img src="images/toolbar_16px.png"></a></li>
                <li class="text-size"><a id="big"><img src="images/toolbar_18px.png"></a></li>
                <li class="text-size"><a id="bigger"><img src="images/toolbar_22px.png"></a></li>
            </ul>
            
            <ul>
                <li class="alignment"><a id="left"><img src="images/toolbar_left.png"></a></li>
                <li class="alignment"><a id="center"><img src="images/toolbar_center.png"></a></li>
                <li class="alignment"><a id="right"><img src="images/toolbar_right.png"></a></li>
            </ul>
            
            <ul>
                <li><a id="bold"><img src="images/toolbar_bold.png"></a></li>
                <li><a id="italics"><img src="images/toolbar_italics.png"></a></li>
            </ul>
        </div>
        
        <div class="container">
        	<form id="myForm" onSubmit="getCapture(); sendData(); return false" method="get">
        	<!--form id="myForm" method="get"-->
            	<textarea id="text" maxlength="3000" placeholder="Paste your text here."></textarea>
            </form>
    	</div>
    
    </section>
    
    
    <script>
	
	
	/*if(typeof(Storage)!=="undefined")
  {
  localStorage.lastname="Smith";
 alert('storage last name is' + localStorage.lastname)
  }
else
  {
  alert('lame')
  }*/
	
	
	
	/*$('#next').click(function(event){
		//event.preventDefault();
		html2canvas(document.getElementById('text'),{
			onrendered:function(canvas){
				var data = canvas.toDataURL();
				alert (data)
				//open (window.location.href='canvas3.html');
				//document.body.appendChild(canvas);
				//$(this).css("display", "none");
				
				
				alert ('now get string');
				var cnvs = document.getElementsByTagName('canvas');
				var image = cnvs.toDataURL();
				
				alert ('open it yeah');
				window.open(image, "toDataURL() image", "width=600, height=200");
			}
			
			
		
		});
		
		
		
		//open (window.location.href='canvas3.html');
		
		// alert ('will getimage now');
		// getImage();
		// saveImage();
	});*/
	
	
		//send text data
		
		var textSize;
			
		
	
		/*Toggle Text With These Properties*/
		
		$("#smaller").click(function () {
			textSize = "12px";
		   //$("#text").css({"font-size":"12px"});
		   $("#text").css("font-size",textSize);
		   
		});
		
		$("#small").on('tap', function(event){
			textSize = "14px";
			$("#text").css("font-size", textSize);
		});
	
		$("#medium").on('tap', function(event){
			textSize = "16px";
			$("#text").css("font-size", textSize);
		});
	
		$("#big").on('tap', function(event){
			textSize = "18px";
			$("#text").css("font-size", textSize);
		});
		
		$("#bigger").on('tap', function(event){
			event.preventDefault();
			textSize = "22px";
			$("#text").css("font-size", textSize);
		});
			
		$("#left").on('tap', function(event){
			event.preventDefault();
			  $("#text").css("text-align","left");
			});
			
		$("#right").on('tap', function(event){
			event.preventDefault();
		  $("#text").css("text-align","right");
		});
		
		$("#center").on('tap', function(event){
			event.preventDefault();
			  $("#text").css("text-align","center");
			});
		
		/*$("#bold").on('tap', function(event){
	event.preventDefault();
			  $("#text").css({"font-weight":"bold"});
			});*/
		
		
		var italicized = false;
			
		$("#italics").on('tap', function(event){
			event.preventDefault();
			
			if(italicized == true){
				italicized = false;
				$("#text").css("font-style","normal");
				$(this).removeClass('active2');
			} else {
				italicized = true;
				$("#text").css("font-style","italic");
				$(this).addClass('active2');
			}
				
		});
		
		var bolded = false;
		$("#bold").on('tap', function(event){
			event.preventDefault();
			
			if(bolded == true){
				bolded = false;
				$("#text").css("font-weight","normal");
				$(this).removeClass('active2');
			} else {
				bolded = true;
				$("#text").css("font-weight","bolder");
				$(this).addClass('active2');
			}
				
		});
		
		$('.text-size').on('tap', function(event){
			//event.preventDefault();
			$('.hidden').hide();
			$('.active').removeClass('active');
			$(this).addClass('active');
		}); 
		
		$('.alignment').on('tap', function(event){
			//event.preventDefault();
			$('.hidden1').hide();
			$('.active1').removeClass('active1');
			$(this).addClass('active1');
		});
		
		/*$('.styles').on('tap', function(event){
	event.preventDefault();
			$('.hidden2').hide();
			$('.active2').removeClass('active2');
			$(this).addClass('active2');
		});*/
		
		$('#next').on('tap', function(event){
			event.preventDefault();
			html2canvas(document.getElementsByClassName("container"), {
				onrendered: function (canvas) {
					var textCanvas = canvas.toDataURL();
					//alert (textCanvas);
					window.location.href = "canvas5.html?canvasData="+textCanvas;
				}
			});
			
		});
		
		
		//function sendData(){
			
			//var textValue = document.getElementById('text').value;
			//alert( textValue+ 'is copied');
			//window.location = "canvas4.html?text="+textValue+"&textSize="+textSize;
			//window.location = "canvas3.html?text="+textValue;
		//}
		 
  	</script>
        
        
</body>

</html>